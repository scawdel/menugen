<document title="MenuGen">
<define name="version" value="2.00">
<define name="date" value="5 June 2010" length=30 align="right">




<literal mode="Text">
=============================================================================
MenuGen - Create Menus for RISC OS Applications                  Version $$version$$

(c) Stephen Fryatt, 2010                       $$date$$
=============================================================================
</literal>



<chapter title="License" file="License">

<cite>MenuGen</cite> is <strong>freeware</strong>.  Copyright is held by the author, Stephen Fryatt, 2010.

<cite>MenuGen</cite> may be copied freely, so long as it remains unaltered with all its files and documentation intact.

If you wish to distribute <cite>MenuGen</cite>, please contact me to get my permission.  This is so that I can ensure that you have the latest version available.  <cite>PrintPDF</cite> may not be sold, although Public Domain libraries may charge for the cost of discs.

No guarantee is made as to the suitability or stability of <cite>MenuGen</cite> or its assocuated libraries for any particular purpose.  No liability can be accepted by the author for any loss or damage caused by the use of <cite>MenuGen</cite>.

</chapter>




<chapter title="Introduction" file="Introduction">

<cite>MenuGen</cite> provides a means of building RISC OS menus into a form of &quot;Template File&quot; which can be loaded into an application's workspace and passed directly to <code>Wimp_CreateMenu</code>. Items such as indirected data buffers are handled automatically.

</chapter>




<chapter title="Using MenuGen" file="Use">


</chapter>




<chapter title="Menu Definition Files" file="DefFiles">

Menu definition files consist of a text file containing a series of commands. The syntax is C-like, so that commands are terminated with semi-colons and nested with braces ('{' and '}').  Comments can be included in the files by enclosing them within <code>/*</code> and <code>*/</code>.

Files are case sensitive, and commands are always in lower case.

The top-level of a file consists of one or more <command>menu</command> commands, each followed by a nested block containing its definition.

<comdef target="menu" params="(tag, &quot;title&quot;)">

The <command>menu</command> command defines a new, empty menu.  It takes two parameters:

<list>
<li><command>tag</command> is a alphanumeric tag, which will be used to identify the menu within <cite>MenuGen</cite>. It can not contian spaces.
<li><command>title</command> is the menu title. If longer than 12 characters, it will automatically become indirected.
</list>

The <command>menu</command> command can be followed by a block, containing the menu definition; if it is not, a default menu containing a single empty item will be created.
</comdef>

<subhead title="Menu commands">

The <command>menu</command> command can be followed by a block, containing one or more of the following commands to define the menu.  If it is not, or if any commands are omitted, defaults are used which conform to the <cite>Style Guide</cite>; a menu really needs at least one <command>item</command>, otherwise it will be of little use.

Muliple <command>item</command> commands can be used to add menu items in sequence; if more than one of any other command is encountered, the last one will take effect.

<comdef target="colours" params="(title_fg, title_bg, work_fg, work_bg)">

In the context of a <command>menu</command> command, the <command>colours</command> sets the colours of the menu in terms of the standard Wimp colours 0 to 16. Its parameters are:

<list>
<li><command>title_fg</command> is the title foreground colour.
<li><command>title_bg</command> is the title background colour.
<li><command>work_fg</command> is the work area foreground colour.
<li><command>work_bg</command> is the work area background colour.
</list>

If omitted, the standard defaults of (7, 2, 7, 0) are used.
</comdef>

<comdef target="indirected" params="(length)">

In the context of a <command>menu</command> command, the <command>indirected</command> sets the title to be indirected with the specified space reserved. If the title given in the <command>menu</command> command itself was longer than 12 characters it will already be indirected, but the command can still be used to set the amount of space reserved.

<list>
<li><command>length</command> specifies the number of characters to allocate, not including the string terminator.
</list>

If omitted, titles of 12 characters or less will be non-indirected and those that are longer will only have buffers of the original length allocated.
</comdef>

<comdef target="item" params="(&quot;text&quot;)">

The <command>item</command> command defines a new menu item: each <command>menu</command> command can contain one or more, which will be taken in the order they appear.  It takes one parameter:

<list>
<li><command>text</command> is the menu item text. If longer than 12 characters, it will automatically become indirected.
</list>

The <command>item</command> command can optionally be followed by a block containing more details; if it is not, a default text entry is created which conforms to the <cite>Style Guide</cite>.
</comdef>


<comdef target="item_gap" params="(gap)">

The <command>item_gap</command> sets the space between menu items, in OS units.

<list>
<li><command>gap</command> specifies the space between menu items, in OS units.
</list>

If omitted, the gap is a standard 0 units.
</comdef>


<comdef target="item_height" params="(height)">

The <command>item_height</command> sets the height of the menu items, in OS units.

<list>
<li><command>height</command> specifies the item height, in OS units.
</list>

If omitted, the height is a standard 44 units.
</comdef>


<comdef target="reverse">

The <command>reverse</command> sets the menu to appear reversed (opening right to left).

It is not implemented in this version of MenuGen, and menus always open left to right.
</comdef>


<subhead title="Item commands">


</chapter>




<chapter title="Menu Block Files" file="MenuFiles">


</chapter>



<chapter title="Version History" file="History">

Here is a list of the versions of <cite>PrintPDF</cite>, along with all the changes made.


<subhead title="1.00 (17 February 2001)">

Original BBC BASIC code.


<subhead title="2.00 (5 June 2010)">

Rewritten in C for use with GCCSDK.


</chapter>





<literal mode="Text">


Updates and Contacting Me
-------------------------

  If you have any comments about MenuGen, or would like to report any bugs
  that you find, you can email me at the address below.

  Updates to MenuGen and more software for RISC OS computers can be found
  on my website at http://www.stevefryatt.org.uk/software/

  Stephen Fryatt
  email: steve@stevefryatt.org.uk
</literal>
